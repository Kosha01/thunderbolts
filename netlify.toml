[build]
command = """
curl -L https://raw.githubusercontent.com/pyenv/pyenv-installer/master/bin/pyenv-installer | bash
export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init -)"
pyenv install 3.9.18
pyenv global 3.9.18
python -m pip install --upgrade pip
pip install -r requirements.txt
mkdir -p functions
cp -r * functions/
"""
publish = "public"
functions = "functions"

[build.environment]
PYTHON_VERSION = "3.9"

[[redirects]]
from = "/*"
to = "/.netlify/functions/app"
status = 200

[functions]
directory = "functions"
node_bundler = "esbuild"

[dev]
framework = "#custom"
command = "python app.py"
targetPort = 5000
port = 8888
publish = "public" 